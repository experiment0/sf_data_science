# Проект 9. Предсказание ожидаемой продолжительности жизни в странах

## Оглавление

[Описание проекта](https://github.com/experiment0/sf_data_science/blob/main/project_9/README.md#Описание-проекта)\
[Какой кейс решаем?](https://github.com/experiment0/sf_data_science/blob/main/project_9/README.md#Какой-кейс-решаем)\
[Краткая информация о данных](https://github.com/experiment0/sf_data_science/blob/main/project_9/README.md#Краткая-информация-о-данных)\
[Этапы работы над проектом](https://github.com/experiment0/sf_data_science/blob/main/project_9/README.md#Этапы-работы-над-проектом)\
[Описание файлов проекта](https://github.com/experiment0/sf_data_science/blob/main/project_9/README.md#Описание-файлов-проекта)\
[Результат](https://github.com/experiment0/sf_data_science/blob/main/project_9/README.md#Результат)

## Описание проекта

В проекте реализовано предсказание ожидаемой продолжительности жизни людей в разных странах.

## Какой кейс решаем?

Из открытых источников собраны данные, связанные с продолжительностью жизни в странах за 2000-2020 гг.\
Произведено их исследование и построена модель для предсказания продолжительности жизни за 2021-2023 гг (данных за эти года открытых источниках еще нет).\
Метрикой оценки качества модели выбрана средняя абсолютная ошибка — MAE (Mean Absolute Error).\
Реализован интерфейс для отправки предикторов через форму и получения результата предсказания в виде чисел и графика.

## Краткая информация о данных

Из открытых источников были собраны данные, которые связаны с продолжительностью жизни в разных странах.\
Преимущественно данные были собраны с сайта [ВОЗ (Всемирная организация здравоохранения)](https://www.who.int).\
Перечень показателей и ссылки на источники приведены в файле [tables_index.ipynb](./tables_index.ipynb)\
Данные были подобраны так, чтобы составить заполненный комплект за определенный промежуток лет.\
Большинство показателей было представлено за 2000-2020гг., поэтому был выбран данный промежуток.\
Пропуски в данных заполнены по мере составления из них общей таблицы.\
Процесс составления описан здесь [01_creating_tables/01_main.ipynb](./01_creating_tables/01_main.ipynb)\
Пропуски заполнялись средним за прошедшие три года, средним по региону, средним по соседним странам или с помощью интерполяции.\
Поскольку на github есть ограничение на размер загружаемых файлов, все используемые и созданные в процессе таблицы загружены  в папку https://disk.yandex.ru/d/PZ6uU-cvCwBWpw .

## Этапы работы над проектом

- Произведен сбор данных из открытых источников и составлена общая таблица.
- Некоторые показатели приведены к общей единице измерения.
- Произведено исследование данных и выявлены некоторые закономерности.
- Создана модель для предсказания целевой переменной продожительности жизни за будущие года (будущие относительно имеющихся данных)
- Реализован интерфейс для получения предсказания по отдельным странам с помощью формы.

## Описание файлов проекта

По причине большого объема проекта отдельные его части разбиты по папкам.
Номер в названии папки означает порядок ее создания и соответственно чтения.
Номера в названии файлов означают также порядок их создания и чтения.
Главным в каждой папки является файл 01_main.ipynb 
И содержит либо самостоятельный текст, если является в папке единственным, либо краткое описание,
что сделано в соседних файлах и ссылки на них.

Описание содержимого папок:

- Папки с ходом реализации проекта
    - [01_creating_tables](./01_creating_tables/) - Процесс создания таблицы из данных, собранных из открытых источников.
    - [02_prepare_data](./02_prepare_data/) - Преобразование собранных данных. Эта часть небольшая, так как основное сделано на этапе сбора данных и присоединения их к основной таблице.
    - [03_eda](./03_eda/) - Исследование данных.
    - [04_feature_inginiring](./04_feature_inginiring/) - Создание новых признаков.
    - [05_prediction](./05_prediction/) - Выбор модели для итогового предсказания.
    - [06_production](./06_production/) - Реализация интерфейса для заполнения предикторов через форму и получения предсказания в виде чисел и графика.

- Служебные папки
    - [utils](./utils/) - Вспомогательные функции и константы, разбитые по тематическим папка. Используются для построения графиков и вывода часто используемой информации.
    - [classes](./classes/) - Два класса для создания новых признаков (описаны по ходу реализации проекта).
    - [data](./data/) - В этой папке должны быть таблицы из https://disk.yandex.ru/d/PZ6uU-cvCwBWpw . Не загружена на github по причине ограничений на объем файла.
    - [images](./images/) - Некоторые вспомогательные картинки.
    - [plotly](./plotly/) - Файлы с графиками plotly для их отображения на github.

- Файл [tables_index.ipynb](./tables_index.ipynb) содержит перечень используемых и созданных в рамках проекта таблиц.

## Результат

Помимо перечисленных выше сбора и исследования данных, а также создания модели и интерфейса,
получен полезный опыт.\
Опыт заключается в знакомстве с возможной спецификой данных.\
Здесь специфика заключается в том, что данные продожительности жизни в странах представляют
из себя по сути короткие временные ряды, дополненные экзогенными переменными.\
Короткие временные ряды на небольшой промежуток времени хорошо прогнозируются с помощью экспоненциального
сглаживания, что и было здесь обнаружено.\
В целом можно было бы обойтись только этим способом прогноза (сглаживанием), он дает оптимальный результат, экзогенные параметры мало смогли его улучшить.\
Также в значениях продожительности жизни за 2019-2020 явно проявил себя COVID-19, 
и это явление не описывается предикторами за предыдущие года.\
Поэтому уменьшить ошибку сглаживания экзогенные переменные смогли мало.

Но в целом достигнутая метрика MAE составляет примерно 0.5 года, что кажется неплохим результатом.

:arrow_up:[к оглавлению](https://github.com/experiment0/sf_data_science/blob/main/project_9/README.md#Оглавление)